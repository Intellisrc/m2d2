<html>
<head>
<title>Demo using M2D2 : Simple</title>
<meta name="HandheldFriendly" content="1">
<meta name="viewport" content="width=device-width, maximum-scale=1.0">
<meta name="theme-color" content="#333333">
<link rel="stylesheet" href="../css/examples.css" type="text/css" />
<script src="../js/utils.src.js" type="text/javascript"></script>
<script src="../js/m2d2.src.js" type="text/javascript"></script>
<!-- Import Demo menu: -->
<!--script src="../js/demo-links.js" type="text/javascript"></script-->
<!--                   -->
<script type="text/javascript">
	//On page ready...
	// title.js
	m2d2.ready(async ($) => {
        const input = (await $.input);

		// Most simple example using a String as data
        const default_text = "M2D2 Demo";
		const title = $(".title", {
            text: default_text,
            onclick : function() {
                $.input.className = "done";
            }
        });

        // Preferred way to use objects (using ID):
        $("#shared", {
            text : "Text in title.js"
        });

        // Here $.input is actually a Promise object, so it makes no sense:
        // $.input.className = "error";

        // This is the correct usage:
        input.className = "ok";

        return { title : title }
	});
/*
    // time.js
    m2d2.ready($ => {
        $("#time", {
            text : new Date().toDateString()
        });
        //$.input.className = "err";
    });
*/
	// input.js
    m2d2.ready($ => {
        const input = $("#new_title", {
            autofocus: true,
            onkeyup: function () {
                $.title.text = this.value;
            }
        });
        shared.text = "Text in input.js";
        return { input : input }
    });

</script>
</head>
<body>
<article>
    <h1 class="title">Title</h1>
    <p>This is the most simple example. We define two objects: 'title' and 'input'.</p>
    <p>To update the title, input some text:</p>
    <div class="controls">
        <div>New Title: <input id="new_title" type="text" /></div>
    </div>
    <div id="shared">Some</div>
    <div id="time"></div>
</article>
</body>
</html>
