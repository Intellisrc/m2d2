<html>
<head>
<title>Demo using M2D2 : Lists</title>
<meta name="HandheldFriendly" content="1">
<meta name="viewport" content="width=device-width, maximum-scale=1.0">
<meta name="theme-color" content="#333333">
<link rel="stylesheet" href="../css/examples.css" type="text/css" />
<script src="../dist/m2d2.src.js" type="text/javascript"></script>
<!-- Import Demo menu: -->
<script src="../js/demo-links.js" type="text/javascript"></script>
<!--                   -->
<script type="text/javascript">
//On ready...
let list;
m2d2.ready($ => {
    (async() => {
        // wait until the promise returns us a value
        let promise = new Promise((resolve, reject) => {
            setTimeout(() => resolve([
                "Blue panther",
                "Slow and Furious",
                "Pirates of the Pacific",
                "Iron Woman",
                "American Cake"
            ]), 1000);
        });
        let data = await promise;
        list.items = data;
        movies.status = "Loaded !";
        // This example is to show how to generate lists
    })();
    /*
     * Here, instead of specifying the template as object, we
     * specified it as HTML template, so we don't need it in the
     * declaration. We can use an array as second argument:
     */
    list = $("#items", []);
    /*
     * Another difference with original code is that instead of
     * just "status", we are wrapping it around "movies", so
     * we can set it lated as: "movies.status = 'something'"
     */
    const movies = $("#movies", {
        status : "Loading..."
    });
});
</script>
</head>
<body>
<article id="movies">
    <h1>M2D2 Async List:</h1>
    <p>This example uses an async function to get the data and then it displays the list using the template.</p>
    <hr>
    <div>Status: <span class="status"></span></div>
    <p>Movie List:</p>
    <ol id="items">
        <template>
            <li title="This is a Movie"></li>
        </template>
    </ol>
</article>
</body>
</html>
